{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.208.0"},"children":{"ordernimbus-staging-networking":{"id":"ordernimbus-staging-networking","path":"ordernimbus-staging-networking","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.208.0"},"children":{"VPC":{"id":"VPC","path":"ordernimbus-staging-networking/VPC","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-networking/VPC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPC"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"ordernimbus-staging-networking/VPC/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.208.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"ordernimbus-staging-networking/VPC/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-1b","cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPC/PublicSubnet1"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"Acl":{"id":"Acl","path":"ordernimbus-staging-networking/VPC/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ordernimbus-staging-networking/VPC/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPC/PublicSubnet1"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ordernimbus-staging-networking/VPC/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VPCPublicSubnet1RouteTableFEE4B781"},"subnetId":{"Ref":"VPCPublicSubnet1SubnetB4246D30"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ordernimbus-staging-networking/VPC/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"VPCIGWB7E252D3"},"routeTableId":{"Ref":"VPCPublicSubnet1RouteTableFEE4B781"}}}},"EIP":{"id":"EIP","path":"ordernimbus-staging-networking/VPC/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPC/PublicSubnet1"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}},"NATGateway":{"id":"NATGateway","path":"ordernimbus-staging-networking/VPC/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["VPCPublicSubnet1EIP6AD938E8","AllocationId"]},"subnetId":{"Ref":"VPCPublicSubnet1SubnetB4246D30"},"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPC/PublicSubnet1"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"ordernimbus-staging-networking/VPC/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.208.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"ordernimbus-staging-networking/VPC/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-1c","cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPC/PublicSubnet2"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"Acl":{"id":"Acl","path":"ordernimbus-staging-networking/VPC/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ordernimbus-staging-networking/VPC/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPC/PublicSubnet2"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ordernimbus-staging-networking/VPC/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VPCPublicSubnet2RouteTable6F1A15F1"},"subnetId":{"Ref":"VPCPublicSubnet2Subnet74179F39"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ordernimbus-staging-networking/VPC/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"VPCIGWB7E252D3"},"routeTableId":{"Ref":"VPCPublicSubnet2RouteTable6F1A15F1"}}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"ordernimbus-staging-networking/VPC/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.208.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"ordernimbus-staging-networking/VPC/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-1b","cidrBlock":"10.0.2.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPC/PrivateSubnet1"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"Acl":{"id":"Acl","path":"ordernimbus-staging-networking/VPC/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ordernimbus-staging-networking/VPC/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPC/PrivateSubnet1"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ordernimbus-staging-networking/VPC/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VPCPrivateSubnet1RouteTableBE8A6027"},"subnetId":{"Ref":"VPCPrivateSubnet1Subnet8BCA10E0"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ordernimbus-staging-networking/VPC/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"VPCPublicSubnet1NATGatewayE0556630"},"routeTableId":{"Ref":"VPCPrivateSubnet1RouteTableBE8A6027"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"ordernimbus-staging-networking/VPC/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.208.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"ordernimbus-staging-networking/VPC/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-1c","cidrBlock":"10.0.3.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPC/PrivateSubnet2"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"Acl":{"id":"Acl","path":"ordernimbus-staging-networking/VPC/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ordernimbus-staging-networking/VPC/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPC/PrivateSubnet2"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ordernimbus-staging-networking/VPC/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VPCPrivateSubnet2RouteTable0A19E10E"},"subnetId":{"Ref":"VPCPrivateSubnet2SubnetCFCDAA7A"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ordernimbus-staging-networking/VPC/PrivateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"VPCPublicSubnet1NATGatewayE0556630"},"routeTableId":{"Ref":"VPCPrivateSubnet2RouteTable0A19E10E"}}}}}},"DatabaseSubnet1":{"id":"DatabaseSubnet1","path":"ordernimbus-staging-networking/VPC/DatabaseSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.208.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"ordernimbus-staging-networking/VPC/DatabaseSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-1b","cidrBlock":"10.0.4.0/28","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Database"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPC/DatabaseSubnet1"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"Acl":{"id":"Acl","path":"ordernimbus-staging-networking/VPC/DatabaseSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ordernimbus-staging-networking/VPC/DatabaseSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPC/DatabaseSubnet1"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ordernimbus-staging-networking/VPC/DatabaseSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VPCDatabaseSubnet1RouteTable50155611"},"subnetId":{"Ref":"VPCDatabaseSubnet1Subnet3E790B6F"}}}}}},"DatabaseSubnet2":{"id":"DatabaseSubnet2","path":"ordernimbus-staging-networking/VPC/DatabaseSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.208.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"ordernimbus-staging-networking/VPC/DatabaseSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-1c","cidrBlock":"10.0.4.16/28","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Database"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPC/DatabaseSubnet2"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"Acl":{"id":"Acl","path":"ordernimbus-staging-networking/VPC/DatabaseSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ordernimbus-staging-networking/VPC/DatabaseSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPC/DatabaseSubnet2"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ordernimbus-staging-networking/VPC/DatabaseSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VPCDatabaseSubnet2RouteTable5A3ECF56"},"subnetId":{"Ref":"VPCDatabaseSubnet2Subnet93B13DD5"}}}}}},"IGW":{"id":"IGW","path":"ordernimbus-staging-networking/VPC/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPC"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}},"VPCGW":{"id":"VPCGW","path":"ordernimbus-staging-networking/VPC/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"VPCIGWB7E252D3"},"vpcId":{"Ref":"VPCB9E5F0B4"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"ordernimbus-staging-networking/VPC/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.208.0","metadata":[]},"children":{"Default":{"id":"Default","path":"ordernimbus-staging-networking/VPC/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"ordernimbus-staging-networking/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.208.0"},"children":{"Staging":{"id":"Staging","path":"ordernimbus-staging-networking/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"Role":{"id":"Role","path":"ordernimbus-staging-networking/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}},"Handler":{"id":"Handler","path":"ordernimbus-staging-networking/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}},"VPCFlowLog":{"id":"VPCFlowLog","path":"ordernimbus-staging-networking/VPCFlowLog","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.FlowLog","version":"2.208.0","metadata":[]},"children":{"IAMRole":{"id":"IAMRole","path":"ordernimbus-staging-networking/VPCFlowLog/IAMRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportIAMRole":{"id":"ImportIAMRole","path":"ordernimbus-staging-networking/VPCFlowLog/IAMRole/ImportIAMRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"ordernimbus-staging-networking/VPCFlowLog/IAMRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"vpc-flow-logs.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPCFlowLog"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ordernimbus-staging-networking/VPCFlowLog/IAMRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-networking/VPCFlowLog/IAMRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:DescribeLogStreams","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["VPCFlowLogLogGroupA7C61619","Arn"]}},{"Action":"iam:PassRole","Effect":"Allow","Resource":{"Fn::GetAtt":["VPCFlowLogIAMRoleC2FCB1C7","Arn"]}}],"Version":"2012-10-17"},"policyName":"VPCFlowLogIAMRoleDefaultPolicy07C64305","roles":[{"Ref":"VPCFlowLogIAMRoleC2FCB1C7"}]}}}}}}},"LogGroup":{"id":"LogGroup","path":"ordernimbus-staging-networking/VPCFlowLog/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-networking/VPCFlowLog/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":731,"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPCFlowLog"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}}}},"FlowLog":{"id":"FlowLog","path":"ordernimbus-staging-networking/VPCFlowLog/FlowLog","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnFlowLog","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::FlowLog","aws:cdk:cloudformation:props":{"deliverLogsPermissionArn":{"Fn::GetAtt":["VPCFlowLogIAMRoleC2FCB1C7","Arn"]},"logDestinationType":"cloud-watch-logs","logGroupName":{"Ref":"VPCFlowLogLogGroupA7C61619"},"resourceId":{"Ref":"VPCB9E5F0B4"},"resourceType":"VPC","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Name","value":"ordernimbus-staging-networking/VPCFlowLog"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"trafficType":"ALL"}}}}},"ECSCluster":{"id":"ECSCluster","path":"ordernimbus-staging-networking/ECSCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-networking/ECSCluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{"clusterName":"staging-forecasting-cluster","clusterSettings":[{"name":"containerInsights","value":"enabled"}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}},"ECSCluster":{"id":"ECSCluster","path":"ordernimbus-staging-networking/ECSCluster/ECSCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnClusterCapacityProviderAssociations","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::ClusterCapacityProviderAssociations","aws:cdk:cloudformation:props":{"capacityProviders":["FARGATE","FARGATE_SPOT"],"cluster":{"Ref":"ECSCluster7D463CD4"},"defaultCapacityProviderStrategy":[]}}}}},"VpcId":{"id":"VpcId","path":"ordernimbus-staging-networking/VpcId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"EcsClusterName":{"id":"EcsClusterName","path":"ordernimbus-staging-networking/EcsClusterName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"ordernimbus-staging-networking/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"ordernimbus-staging-networking/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}},"Exports":{"id":"Exports","path":"ordernimbus-staging-networking/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"VPCB9E5F0B4\"}":{"id":"Output{\"Ref\":\"VPCB9E5F0B4\"}","path":"ordernimbus-staging-networking/Exports/Output{\"Ref\":\"VPCB9E5F0B4\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Ref\":\"VPCDatabaseSubnet1Subnet3E790B6F\"}":{"id":"Output{\"Ref\":\"VPCDatabaseSubnet1Subnet3E790B6F\"}","path":"ordernimbus-staging-networking/Exports/Output{\"Ref\":\"VPCDatabaseSubnet1Subnet3E790B6F\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Ref\":\"VPCDatabaseSubnet2Subnet93B13DD5\"}":{"id":"Output{\"Ref\":\"VPCDatabaseSubnet2Subnet93B13DD5\"}","path":"ordernimbus-staging-networking/Exports/Output{\"Ref\":\"VPCDatabaseSubnet2Subnet93B13DD5\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Ref\":\"VPCPublicSubnet1SubnetB4246D30\"}":{"id":"Output{\"Ref\":\"VPCPublicSubnet1SubnetB4246D30\"}","path":"ordernimbus-staging-networking/Exports/Output{\"Ref\":\"VPCPublicSubnet1SubnetB4246D30\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Ref\":\"VPCPublicSubnet2Subnet74179F39\"}":{"id":"Output{\"Ref\":\"VPCPublicSubnet2Subnet74179F39\"}","path":"ordernimbus-staging-networking/Exports/Output{\"Ref\":\"VPCPublicSubnet2Subnet74179F39\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Ref\":\"ECSCluster7D463CD4\"}":{"id":"Output{\"Ref\":\"ECSCluster7D463CD4\"}","path":"ordernimbus-staging-networking/Exports/Output{\"Ref\":\"ECSCluster7D463CD4\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Ref\":\"VPCPrivateSubnet1Subnet8BCA10E0\"}":{"id":"Output{\"Ref\":\"VPCPrivateSubnet1Subnet8BCA10E0\"}","path":"ordernimbus-staging-networking/Exports/Output{\"Ref\":\"VPCPrivateSubnet1Subnet8BCA10E0\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Ref\":\"VPCPrivateSubnet2SubnetCFCDAA7A\"}":{"id":"Output{\"Ref\":\"VPCPrivateSubnet2SubnetCFCDAA7A\"}","path":"ordernimbus-staging-networking/Exports/Output{\"Ref\":\"VPCPrivateSubnet2SubnetCFCDAA7A\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ordernimbus-staging-networking/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.208.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ordernimbus-staging-networking/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.208.0"}}}},"ordernimbus-staging-security":{"id":"ordernimbus-staging-security","path":"ordernimbus-staging-security","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.208.0"},"children":{"UserPool":{"id":"UserPool","path":"ordernimbus-staging-security/UserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-security/UserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":true},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"minimumLength":8,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":true}},"smsVerificationMessage":"The verification code to your new account is {####}","userPoolTags":{"CostCenter":"Engineering","Environment":"staging","Owner":"Platform-Team","Project":"OrderNimbus-Forecasting"},"usernameAttributes":["email"],"userPoolName":"staging-forecasting-users","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}}}},"UserPoolClient":{"id":"UserPoolClient","path":"ordernimbus-staging-security/UserPoolClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-security/UserPoolClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"allowedOAuthFlows":["code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["email","openid","profile"],"callbackUrLs":["https://example.com"],"clientName":"staging-forecasting-client","explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"supportedIdentityProviders":["COGNITO"],"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}},"ALBSecurityGroup":{"id":"ALBSecurityGroup","path":"ordernimbus-staging-security/ALBSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-security/ALBSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for Application Load Balancer","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":443,"toPort":443,"description":"Allow HTTPS traffic from internet"},{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":80,"toPort":80,"description":"Allow HTTP traffic from internet (redirect to HTTPS)"}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"vpcId":{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefVPCB9E5F0B4BD23A326"}}}}}},"ECSSecurityGroup":{"id":"ECSSecurityGroup","path":"ordernimbus-staging-security/ECSSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-security/ECSSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for ECS tasks","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"vpcId":{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefVPCB9E5F0B4BD23A326"}}}},"from ordernimbusstagingsecurityALBSecurityGroup02E3811F:8080":{"id":"from ordernimbusstagingsecurityALBSecurityGroup02E3811F:8080","path":"ordernimbus-staging-security/ECSSecurityGroup/from ordernimbusstagingsecurityALBSecurityGroup02E3811F:8080","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow traffic from ALB to ECS tasks","fromPort":8080,"groupId":{"Fn::GetAtt":["ECSSecurityGroupA14DBE7D","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ALBSecurityGroup29A3BDEF","GroupId"]},"toPort":8080}}},"from ordernimbusstagingsecurityALBSecurityGroup02E3811F:80":{"id":"from ordernimbusstagingsecurityALBSecurityGroup02E3811F:80","path":"ordernimbus-staging-security/ECSSecurityGroup/from ordernimbusstagingsecurityALBSecurityGroup02E3811F:80","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Load balancer to target","fromPort":80,"groupId":{"Fn::GetAtt":["ECSSecurityGroupA14DBE7D","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ALBSecurityGroup29A3BDEF","GroupId"]},"toPort":80}}}}},"DatabaseSecurityGroup":{"id":"DatabaseSecurityGroup","path":"ordernimbus-staging-security/DatabaseSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-security/DatabaseSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for RDS database","securityGroupEgress":[{"cidrIp":"255.255.255.255/32","description":"Disallow all traffic","ipProtocol":"icmp","fromPort":252,"toPort":86}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"vpcId":{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefVPCB9E5F0B4BD23A326"}}}},"from ordernimbusstagingsecurityECSSecurityGroup3A5EBAA2:5432":{"id":"from ordernimbusstagingsecurityECSSecurityGroup3A5EBAA2:5432","path":"ordernimbus-staging-security/DatabaseSecurityGroup/from ordernimbusstagingsecurityECSSecurityGroup3A5EBAA2:5432","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow PostgreSQL traffic from ECS tasks","fromPort":5432,"groupId":{"Fn::GetAtt":["DatabaseSecurityGroup7319C0F6","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ECSSecurityGroupA14DBE7D","GroupId"]},"toPort":5432}}}}},"ECSTaskExecutionRole":{"id":"ECSTaskExecutionRole","path":"ordernimbus-staging-security/ECSTaskExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportECSTaskExecutionRole":{"id":"ImportECSTaskExecutionRole","path":"ordernimbus-staging-security/ECSTaskExecutionRole/ImportECSTaskExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"ordernimbus-staging-security/ECSTaskExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}}}},"ECSTaskRole":{"id":"ECSTaskRole","path":"ordernimbus-staging-security/ECSTaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportECSTaskRole":{"id":"ImportECSTaskRole","path":"ordernimbus-staging-security/ECSTaskRole/ImportECSTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"ordernimbus-staging-security/ECSTaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"policies":[{"policyName":"S3Access","policyDocument":{"Statement":[{"Action":["s3:DeleteObject","s3:GetObject","s3:ListBucket","s3:PutObject"],"Effect":"Allow","Resource":["arn:aws:s3:::ordernimbus-staging-*","arn:aws:s3:::ordernimbus-staging-*/*"]}],"Version":"2012-10-17"}},{"policyName":"ParameterStoreAccess","policyDocument":{"Statement":[{"Action":["ssm:GetParameter","ssm:GetParameters","ssm:GetParametersByPath"],"Effect":"Allow","Resource":"arn:aws:ssm:us-west-1:335021149718:parameter/ordernimbus/staging/*"}],"Version":"2012-10-17"}}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}}}},"UserPoolId":{"id":"UserPoolId","path":"ordernimbus-staging-security/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"ordernimbus-staging-security/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"ECSTaskExecutionRoleArn":{"id":"ECSTaskExecutionRoleArn","path":"ordernimbus-staging-security/ECSTaskExecutionRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"ECSTaskRoleArn":{"id":"ECSTaskRoleArn","path":"ordernimbus-staging-security/ECSTaskRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"ordernimbus-staging-security/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"ordernimbus-staging-security/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}},"Exports":{"id":"Exports","path":"ordernimbus-staging-security/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"DatabaseSecurityGroup7319C0F6\",\"GroupId\"]}":{"id":"Output{\"Fn::GetAtt\":[\"DatabaseSecurityGroup7319C0F6\",\"GroupId\"]}","path":"ordernimbus-staging-security/Exports/Output{\"Fn::GetAtt\":[\"DatabaseSecurityGroup7319C0F6\",\"GroupId\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Fn::GetAtt\":[\"ALBSecurityGroup29A3BDEF\",\"GroupId\"]}":{"id":"Output{\"Fn::GetAtt\":[\"ALBSecurityGroup29A3BDEF\",\"GroupId\"]}","path":"ordernimbus-staging-security/Exports/Output{\"Fn::GetAtt\":[\"ALBSecurityGroup29A3BDEF\",\"GroupId\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Fn::GetAtt\":[\"ECSSecurityGroupA14DBE7D\",\"GroupId\"]}":{"id":"Output{\"Fn::GetAtt\":[\"ECSSecurityGroupA14DBE7D\",\"GroupId\"]}","path":"ordernimbus-staging-security/Exports/Output{\"Fn::GetAtt\":[\"ECSSecurityGroupA14DBE7D\",\"GroupId\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Fn::GetAtt\":[\"UserPool6BA7E5F2\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UserPool6BA7E5F2\",\"Arn\"]}","path":"ordernimbus-staging-security/Exports/Output{\"Fn::GetAtt\":[\"UserPool6BA7E5F2\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ordernimbus-staging-security/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.208.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ordernimbus-staging-security/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.208.0"}}}},"ordernimbus-staging-database":{"id":"ordernimbus-staging-database","path":"ordernimbus-staging-database","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.208.0"},"children":{"SsmParameterValue:--ordernimbus--staging--database--master-username:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter":{"id":"SsmParameterValue:--ordernimbus--staging--database--master-username:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter","path":"ordernimbus-staging-database/SsmParameterValue:--ordernimbus--staging--database--master-username:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.208.0"}},"SsmParameterValue:--ordernimbus--staging--database--master-username:C96584B6-F00A-464E-AD19-53AFF4B05118":{"id":"SsmParameterValue:--ordernimbus--staging--database--master-username:C96584B6-F00A-464E-AD19-53AFF4B05118","path":"ordernimbus-staging-database/SsmParameterValue:--ordernimbus--staging--database--master-username:C96584B6-F00A-464E-AD19-53AFF4B05118","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"SsmParameterValue:--ordernimbus--staging--database--name:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter":{"id":"SsmParameterValue:--ordernimbus--staging--database--name:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter","path":"ordernimbus-staging-database/SsmParameterValue:--ordernimbus--staging--database--name:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.208.0"}},"SsmParameterValue:--ordernimbus--staging--database--name:C96584B6-F00A-464E-AD19-53AFF4B05118":{"id":"SsmParameterValue:--ordernimbus--staging--database--name:C96584B6-F00A-464E-AD19-53AFF4B05118","path":"ordernimbus-staging-database/SsmParameterValue:--ordernimbus--staging--database--name:C96584B6-F00A-464E-AD19-53AFF4B05118","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"DBSubnetGroup":{"id":"DBSubnetGroup","path":"ordernimbus-staging-database/DBSubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.208.0","metadata":[]},"children":{"Default":{"id":"Default","path":"ordernimbus-staging-database/DBSubnetGroup/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Database subnet group for staging","subnetIds":[{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefVPCDatabaseSubnet1Subnet3E790B6FCC2F250A"},{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefVPCDatabaseSubnet2Subnet93B13DD5FBB3CDD7"}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}}}},"AuroraCluster":{"id":"AuroraCluster","path":"ordernimbus-staging-database/AuroraCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseCluster","version":"2.208.0","metadata":[]},"children":{"AuroraPostgreSqlDatabaseClusterEngineDefaultParameterGroup":{"id":"AuroraPostgreSqlDatabaseClusterEngineDefaultParameterGroup","path":"ordernimbus-staging-database/AuroraCluster/AuroraPostgreSqlDatabaseClusterEngineDefaultParameterGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"MonitoringRole":{"id":"MonitoringRole","path":"ordernimbus-staging-database/AuroraCluster/MonitoringRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportMonitoringRole":{"id":"ImportMonitoringRole","path":"ordernimbus-staging-database/AuroraCluster/MonitoringRole/ImportMonitoringRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"ordernimbus-staging-database/AuroraCluster/MonitoringRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"monitoring.rds.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonRDSEnhancedMonitoringRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}}}},"Secret":{"id":"Secret","path":"ordernimbus-staging-database/AuroraCluster/Secret","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseSecret","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-database/AuroraCluster/Secret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":{"Fn::Join":["",["Generated by the CDK for stack: ",{"Ref":"AWS::StackName"}]]},"generateSecretString":{"passwordLength":30,"secretStringTemplate":{"Fn::Join":["",["{\"username\":\"",{"Ref":"SsmParameterValueordernimbusstagingdatabasemasterusernameC96584B6F00A464EAD1953AFF4B05118Parameter"},"\"}"]]},"generateStringKey":"password","excludeCharacters":" %+~`#$&*()|[]{}:;<>?!'/@\"\\"},"name":"ordernimbus-staging-db-credentials","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}},"Attachment":{"id":"Attachment","path":"ordernimbus-staging-database/AuroraCluster/Secret/Attachment","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-database/AuroraCluster/Secret/Attachment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"ordernimbusstagingdatabaseAuroraClusterSecretF0EE42063fdaad7efa858a3daf9490cf0a702aeb"},"targetId":{"Ref":"AuroraCluster23D869C0"},"targetType":"AWS::RDS::DBCluster"}}}}}}},"Resource":{"id":"Resource","path":"ordernimbus-staging-database/AuroraCluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBCluster","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBCluster","aws:cdk:cloudformation:props":{"backupRetentionPeriod":7,"copyTagsToSnapshot":true,"databaseName":{"Ref":"SsmParameterValueordernimbusstagingdatabasenameC96584B6F00A464EAD1953AFF4B05118Parameter"},"dbClusterIdentifier":"ordernimbus-staging-db-cluster","dbClusterParameterGroupName":"default.aurora-postgresql15","dbSubnetGroupName":{"Ref":"DBSubnetGroup"},"deletionProtection":false,"engine":"aurora-postgresql","engineVersion":"15.4","masterUsername":{"Ref":"SsmParameterValueordernimbusstagingdatabasemasterusernameC96584B6F00A464EAD1953AFF4B05118Parameter"},"masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"ordernimbusstagingdatabaseAuroraClusterSecretF0EE42063fdaad7efa858a3daf9490cf0a702aeb"},":SecretString:password::}}"]]},"performanceInsightsEnabled":true,"performanceInsightsRetentionPeriod":7,"port":5432,"preferredBackupWindow":"03:00-04:00","serverlessV2ScalingConfiguration":{"minCapacity":0.5,"maxCapacity":16},"storageEncrypted":true,"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"vpcSecurityGroupIds":[{"Fn::ImportValue":"ordernimbus-staging-security:ExportsOutputFnGetAttDatabaseSecurityGroup7319C0F6GroupId72A1B827"}]}}},"writer":{"id":"writer","path":"ordernimbus-staging-database/AuroraCluster/writer","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-database/AuroraCluster/writer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"dbClusterIdentifier":{"Ref":"AuroraCluster23D869C0"},"dbInstanceClass":"db.serverless","engine":"aurora-postgresql","monitoringInterval":60,"monitoringRoleArn":{"Fn::GetAtt":["AuroraClusterMonitoringRoleEC6D6395","Arn"]},"promotionTier":0,"publiclyAccessible":false,"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}}}}}},"DatabaseEndpoint":{"id":"DatabaseEndpoint","path":"ordernimbus-staging-database/DatabaseEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"DatabaseName":{"id":"DatabaseName","path":"ordernimbus-staging-database/DatabaseName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"ordernimbus-staging-database/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"ordernimbus-staging-database/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}},"Exports":{"id":"Exports","path":"ordernimbus-staging-database/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"AuroraCluster23D869C0\",\"Endpoint.Address\"]}":{"id":"Output{\"Fn::GetAtt\":[\"AuroraCluster23D869C0\",\"Endpoint.Address\"]}","path":"ordernimbus-staging-database/Exports/Output{\"Fn::GetAtt\":[\"AuroraCluster23D869C0\",\"Endpoint.Address\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Ref\":\"AuroraClusterSecretAttachmentDB8032DA\"}":{"id":"Output{\"Ref\":\"AuroraClusterSecretAttachmentDB8032DA\"}","path":"ordernimbus-staging-database/Exports/Output{\"Ref\":\"AuroraClusterSecretAttachmentDB8032DA\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Ref\":\"AuroraCluster23D869C0\"}":{"id":"Output{\"Ref\":\"AuroraCluster23D869C0\"}","path":"ordernimbus-staging-database/Exports/Output{\"Ref\":\"AuroraCluster23D869C0\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ordernimbus-staging-database/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.208.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ordernimbus-staging-database/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.208.0"}}}},"ordernimbus-staging-compute":{"id":"ordernimbus-staging-compute","path":"ordernimbus-staging-compute","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.208.0"},"children":{"ALB":{"id":"ALB","path":"ordernimbus-staging-compute/ALB","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationLoadBalancer","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/ALB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"name":"ordernimbus-staging-alb","scheme":"internet-facing","securityGroups":[{"Fn::ImportValue":"ordernimbus-staging-security:ExportsOutputFnGetAttALBSecurityGroup29A3BDEFGroupId2A9BC0BF"}],"subnets":[{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefVPCPublicSubnet1SubnetB4246D30D84F935B"},{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefVPCPublicSubnet2Subnet74179F3969CC10AD"}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"type":"application"}}},"Listener":{"id":"Listener","path":"ordernimbus-staging-compute/ALB/Listener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/ALB/Listener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"TargetGroup3D7CD9B8"}}],"loadBalancerArn":{"Ref":"ALBAEE750D2"},"port":80,"protocol":"HTTP"}}}}}}},"TargetGroup":{"id":"TargetGroup","path":"ordernimbus-staging-compute/TargetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.208.0"},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/TargetGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"healthCheckEnabled":true,"healthCheckIntervalSeconds":30,"healthCheckPath":"/","healthCheckTimeoutSeconds":5,"healthyThresholdCount":2,"matcher":{"httpCode":"200"},"port":80,"protocol":"HTTP","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"targetGroupAttributes":[{"key":"stickiness.enabled","value":"false"}],"targetType":"ip","unhealthyThresholdCount":5,"vpcId":{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefVPCB9E5F0B4BD23A326"}}}}}},"TaskDefinition":{"id":"TaskDefinition","path":"ordernimbus-staging-compute/TaskDefinition","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.208.0","metadata":[]},"children":{"TaskRole":{"id":"TaskRole","path":"ordernimbus-staging-compute/TaskDefinition/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"ordernimbus-staging-compute/TaskDefinition/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/TaskDefinition/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ordernimbus-staging-compute/TaskDefinition/TaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/TaskDefinition/TaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:DescribeLogGroups","logs:DescribeLogStreams","logs:PutLogEvents","ssmmessages:CreateControlChannel","ssmmessages:CreateDataChannel","ssmmessages:OpenControlChannel","ssmmessages:OpenDataChannel"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"TaskDefinitionTaskRoleDefaultPolicy282E8624","roles":[{"Ref":"TaskDefinitionTaskRoleFD40A61D"}]}}}}}}},"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/TaskDefinition/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":"nginx:latest","name":"api","portMappings":[{"containerPort":80,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"TaskDefinitionApiContainerLogGroup3C54E537"},"awslogs-stream-prefix":"ordernimbus-api","awslogs-region":"us-west-1"}},"environment":[{"name":"NODE_ENV","value":"staging"},{"name":"DATABASE_HOST","value":{"Fn::ImportValue":"ordernimbus-staging-database:ExportsOutputFnGetAttAuroraCluster23D869C0EndpointAddress064B8907"}},{"name":"AWS_REGION","value":"us-west-1"}],"secrets":[{"name":"DATABASE_PASSWORD","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"ordernimbus-staging-database:ExportsOutputRefAuroraClusterSecretAttachmentDB8032DAFDEEBE73"},":password::"]]}},{"name":"DATABASE_USERNAME","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"ordernimbus-staging-database:ExportsOutputRefAuroraClusterSecretAttachmentDB8032DAFDEEBE73"},":username::"]]}},{"name":"JWT_SECRET","valueFrom":"arn:aws:ssm:us-west-1:335021149718:parameter/ordernimbus/staging/auth/jwt-secret"}],"healthCheck":{"command":["CMD-SHELL","curl -f http://localhost/ || exit 1"],"interval":30,"retries":3,"startPeriod":60,"timeout":5}}],"cpu":"1024","executionRoleArn":{"Fn::GetAtt":["TaskDefinitionExecutionRole8D61C2FB","Arn"]},"family":"ordernimbus-staging-api","memory":"2048","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"taskRoleArn":{"Fn::GetAtt":["TaskDefinitionTaskRoleFD40A61D","Arn"]}}}},"ApiContainer":{"id":"ApiContainer","path":"ordernimbus-staging-compute/TaskDefinition/ApiContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.208.0"},"children":{"LogGroup":{"id":"LogGroup","path":"ordernimbus-staging-compute/TaskDefinition/ApiContainer/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/TaskDefinition/ApiContainer/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":30,"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}}}}}},"ExecutionRole":{"id":"ExecutionRole","path":"ordernimbus-staging-compute/TaskDefinition/ExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"ordernimbus-staging-compute/TaskDefinition/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/TaskDefinition/ExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ordernimbus-staging-compute/TaskDefinition/ExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/TaskDefinition/ExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["TaskDefinitionApiContainerLogGroup3C54E537","Arn"]}},{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":{"Fn::ImportValue":"ordernimbus-staging-database:ExportsOutputRefAuroraClusterSecretAttachmentDB8032DAFDEEBE73"}},{"Action":["ssm:DescribeParameters","ssm:GetParameter","ssm:GetParameterHistory","ssm:GetParameters"],"Effect":"Allow","Resource":"arn:aws:ssm:us-west-1:335021149718:parameter/ordernimbus/staging/auth/jwt-secret"}],"Version":"2012-10-17"},"policyName":"TaskDefinitionExecutionRoleDefaultPolicy1F3406F5","roles":[{"Ref":"TaskDefinitionExecutionRole8D61C2FB"}]}}}}}}}}},"JwtSecret.Parameter":{"id":"JwtSecret.Parameter","path":"ordernimbus-staging-compute/JwtSecret.Parameter","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.208.0"}},"JwtSecret":{"id":"JwtSecret","path":"ordernimbus-staging-compute/JwtSecret","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"ECSService":{"id":"ECSService","path":"ordernimbus-staging-compute/ECSService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.208.0","metadata":[]},"children":{"Service":{"id":"Service","path":"ordernimbus-staging-compute/ECSService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefECSCluster7D463CD47A8DFE2F"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"desiredCount":2,"enableEcsManagedTags":false,"enableExecuteCommand":true,"healthCheckGracePeriodSeconds":60,"launchType":"FARGATE","loadBalancers":[{"targetGroupArn":{"Ref":"TargetGroup3D7CD9B8"},"containerName":"api","containerPort":80},{"targetGroupArn":{"Ref":"NLBTargetGroup514B86FD"},"containerName":"api","containerPort":80}],"networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefVPCPrivateSubnet1Subnet8BCA10E01F79A1B7"},{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefVPCPrivateSubnet2SubnetCFCDAA7AB22CF85D"}],"securityGroups":[{"Fn::ImportValue":"ordernimbus-staging-security:ExportsOutputFnGetAttECSSecurityGroupA14DBE7DGroupIdF26764D6"}]}},"platformVersion":"LATEST","serviceName":"ordernimbus-staging-api","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"taskDefinition":{"Ref":"TaskDefinitionB36D86D9"}}}},"ScalingRole":{"id":"ScalingRole","path":"ordernimbus-staging-compute/ECSService/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"TaskCount":{"id":"TaskCount","path":"ordernimbus-staging-compute/ECSService/TaskCount","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ScalableTaskCount","version":"2.208.0"},"children":{"Target":{"id":"Target","path":"ordernimbus-staging-compute/ECSService/TaskCount/Target","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.ScalableTarget","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/ECSService/TaskCount/Target/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalableTarget","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalableTarget","aws:cdk:cloudformation:props":{"maxCapacity":10,"minCapacity":1,"resourceId":{"Fn::Join":["",["service/",{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefECSCluster7D463CD47A8DFE2F"},"/",{"Fn::GetAtt":["ECSService89C005CD","Name"]}]]},"roleArn":"arn:aws:iam::335021149718:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService","scalableDimension":"ecs:service:DesiredCount","serviceNamespace":"ecs"}}},"CpuScaling":{"id":"CpuScaling","path":"ordernimbus-staging-compute/ECSService/TaskCount/Target/CpuScaling","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.TargetTrackingScalingPolicy","version":"2.208.0"},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/ECSService/TaskCount/Target/CpuScaling/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalingPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalingPolicy","aws:cdk:cloudformation:props":{"policyName":"ordernimbusstagingcomputeECSServiceTaskCountTargetCpuScaling2105E9D6","policyType":"TargetTrackingScaling","scalingTargetId":{"Ref":"ECSServiceTaskCountTarget3A308FFA"},"targetTrackingScalingPolicyConfiguration":{"predefinedMetricSpecification":{"predefinedMetricType":"ECSServiceAverageCPUUtilization"},"scaleInCooldown":300,"scaleOutCooldown":120,"targetValue":70}}}}}},"MemoryScaling":{"id":"MemoryScaling","path":"ordernimbus-staging-compute/ECSService/TaskCount/Target/MemoryScaling","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.TargetTrackingScalingPolicy","version":"2.208.0"},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/ECSService/TaskCount/Target/MemoryScaling/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalingPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalingPolicy","aws:cdk:cloudformation:props":{"policyName":"ordernimbusstagingcomputeECSServiceTaskCountTargetMemoryScalingDD896EFC","policyType":"TargetTrackingScaling","scalingTargetId":{"Ref":"ECSServiceTaskCountTarget3A308FFA"},"targetTrackingScalingPolicyConfiguration":{"predefinedMetricSpecification":{"predefinedMetricType":"ECSServiceAverageMemoryUtilization"},"scaleInCooldown":300,"scaleOutCooldown":120,"targetValue":80}}}}}},"RequestCountScaling":{"id":"RequestCountScaling","path":"ordernimbus-staging-compute/ECSService/TaskCount/Target/RequestCountScaling","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.TargetTrackingScalingPolicy","version":"2.208.0"},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/ECSService/TaskCount/Target/RequestCountScaling/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalingPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalingPolicy","aws:cdk:cloudformation:props":{"policyName":"ordernimbusstagingcomputeECSServiceTaskCountTargetRequestCountScaling25382BBC","policyType":"TargetTrackingScaling","scalingTargetId":{"Ref":"ECSServiceTaskCountTarget3A308FFA"},"targetTrackingScalingPolicyConfiguration":{"predefinedMetricSpecification":{"predefinedMetricType":"ALBRequestCountPerTarget","resourceLabel":{"Fn::Join":["",[{"Fn::Select":[1,{"Fn::Split":["/",{"Ref":"ALBListener3B99FF85"}]}]},"/",{"Fn::Select":[2,{"Fn::Split":["/",{"Ref":"ALBListener3B99FF85"}]}]},"/",{"Fn::Select":[3,{"Fn::Split":["/",{"Ref":"ALBListener3B99FF85"}]}]},"/",{"Fn::GetAtt":["TargetGroup3D7CD9B8","TargetGroupFullName"]}]]}},"scaleInCooldown":300,"scaleOutCooldown":120,"targetValue":1000}}}}}}}}}}}},"NLB":{"id":"NLB","path":"ordernimbus-staging-compute/NLB","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.NetworkLoadBalancer","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/NLB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"name":"ordernimbus-staging-nlb","scheme":"internal","subnets":[{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefVPCPrivateSubnet1Subnet8BCA10E01F79A1B7"},{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefVPCPrivateSubnet2SubnetCFCDAA7AB22CF85D"}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"type":"network"}}},"NLBListener":{"id":"NLBListener","path":"ordernimbus-staging-compute/NLB/NLBListener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.NetworkListener","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/NLB/NLBListener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"NLBTargetGroup514B86FD"}}],"loadBalancerArn":{"Ref":"NLB55158F82"},"port":80,"protocol":"TCP"}}}}}}},"NLBTargetGroup":{"id":"NLBTargetGroup","path":"ordernimbus-staging-compute/NLBTargetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.NetworkTargetGroup","version":"2.208.0"},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/NLBTargetGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"healthCheckEnabled":true,"healthCheckIntervalSeconds":30,"healthCheckPath":"/","healthCheckPort":"80","healthCheckProtocol":"HTTP","port":80,"protocol":"TCP","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"targetType":"ip","vpcId":{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefVPCB9E5F0B4BD23A326"}}}}}},"HighCpuAlarm":{"id":"HighCpuAlarm","path":"ordernimbus-staging-compute/HighCpuAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/HighCpuAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"High CPU utilization in ECS service","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":2,"dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefECSCluster7D463CD47A8DFE2F"}},{"name":"ServiceName","value":{"Fn::GetAtt":["ECSService89C005CD","Name"]}}],"evaluationPeriods":2,"metricName":"CPUUtilization","namespace":"AWS/ECS","period":300,"statistic":"Average","threshold":80}}}}},"HighMemoryAlarm":{"id":"HighMemoryAlarm","path":"ordernimbus-staging-compute/HighMemoryAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-compute/HighMemoryAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"High memory utilization in ECS service","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":2,"dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefECSCluster7D463CD47A8DFE2F"}},{"name":"ServiceName","value":{"Fn::GetAtt":["ECSService89C005CD","Name"]}}],"evaluationPeriods":2,"metricName":"MemoryUtilization","namespace":"AWS/ECS","period":300,"statistic":"Average","threshold":85}}}}},"LoadBalancerDNS":{"id":"LoadBalancerDNS","path":"ordernimbus-staging-compute/LoadBalancerDNS","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"ECSServiceName":{"id":"ECSServiceName","path":"ordernimbus-staging-compute/ECSServiceName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"ECSServiceArn":{"id":"ECSServiceArn","path":"ordernimbus-staging-compute/ECSServiceArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"ordernimbus-staging-compute/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"ordernimbus-staging-compute/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}},"Exports":{"id":"Exports","path":"ordernimbus-staging-compute/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"NLB55158F82\",\"DNSName\"]}":{"id":"Output{\"Fn::GetAtt\":[\"NLB55158F82\",\"DNSName\"]}","path":"ordernimbus-staging-compute/Exports/Output{\"Fn::GetAtt\":[\"NLB55158F82\",\"DNSName\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Ref\":\"NLB55158F82\"}":{"id":"Output{\"Ref\":\"NLB55158F82\"}","path":"ordernimbus-staging-compute/Exports/Output{\"Ref\":\"NLB55158F82\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Fn::GetAtt\":[\"ECSService89C005CD\",\"Name\"]}":{"id":"Output{\"Fn::GetAtt\":[\"ECSService89C005CD\",\"Name\"]}","path":"ordernimbus-staging-compute/Exports/Output{\"Fn::GetAtt\":[\"ECSService89C005CD\",\"Name\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ordernimbus-staging-compute/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.208.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ordernimbus-staging-compute/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.208.0"}}}},"ordernimbus-staging-api":{"id":"ordernimbus-staging-api","path":"ordernimbus-staging-api","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.208.0"},"children":{"ForecastingAPI":{"id":"ForecastingAPI","path":"ordernimbus-staging-api/ForecastingAPI","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"Sales Forecasting API for staging environment","name":"ordernimbus-staging-api","policy":{"Statement":[{"Action":"execute-api:Invoke","Effect":"Allow","Principal":{"AWS":"*"},"Resource":"*"}],"Version":"2012-10-17"},"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"ordernimbus-staging-api/ForecastingAPI/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"ordernimbus-staging-api/ForecastingAPI/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}}}},"Account":{"id":"Account","path":"ordernimbus-staging-api/ForecastingAPI/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["ForecastingAPICloudWatchRole12EF21D6","Arn"]}}}},"Deployment":{"id":"Deployment","path":"ordernimbus-staging-api/ForecastingAPI/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Sales Forecasting API for staging environment","restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}},"DeploymentStage.staging":{"id":"DeploymentStage.staging","path":"ordernimbus-staging-api/ForecastingAPI/DeploymentStage.staging","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/DeploymentStage.staging/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"ForecastingAPIDeployment4E1ED839760a619e8c3d59007764aef29552f3f4"},"methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":true,"loggingLevel":"INFO","metricsEnabled":true}],"restApiId":{"Ref":"ForecastingAPIC6373D2F"},"stageName":"staging","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}}}},"Endpoint":{"id":"Endpoint","path":"ordernimbus-staging-api/ForecastingAPI/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Default":{"id":"Default","path":"ordernimbus-staging-api/ForecastingAPI/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.208.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"ordernimbus-staging-api/ForecastingAPI/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Tenant-ID'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Fn::GetAtt":["ForecastingAPIC6373D2F","RootResourceId"]},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}},"health":{"id":"health","path":"ordernimbus-staging-api/ForecastingAPI/Default/health","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/health/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["ForecastingAPIC6373D2F","RootResourceId"]},"pathPart":"health","restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}},"OPTIONS":{"id":"OPTIONS","path":"ordernimbus-staging-api/ForecastingAPI/Default/health/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/health/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Tenant-ID'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ForecastingAPIhealthB933BDC7"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}},"GET":{"id":"GET","path":"ordernimbus-staging-api/ForecastingAPI/Default/health/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/health/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"HTTP_PROXY","uri":{"Fn::Join":["",["http://",{"Fn::ImportValue":"ordernimbus-staging-compute:ExportsOutputFnGetAttNLB55158F82DNSName97B63C3F"},"/health"]]},"integrationHttpMethod":"GET","connectionType":"VPC_LINK","connectionId":{"Ref":"VpcLink42ED6FF0"}},"resourceId":{"Ref":"ForecastingAPIhealthB933BDC7"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}}}},"api":{"id":"api","path":"ordernimbus-staging-api/ForecastingAPI/Default/api","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["ForecastingAPIC6373D2F","RootResourceId"]},"pathPart":"api","restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}},"OPTIONS":{"id":"OPTIONS","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Tenant-ID'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ForecastingAPIapiBA7672DC"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}},"v1":{"id":"v1","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ForecastingAPIapiBA7672DC"},"pathPart":"v1","restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}},"OPTIONS":{"id":"OPTIONS","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Tenant-ID'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ForecastingAPIapiv12FE161CD"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}},"tenants":{"id":"tenants","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ForecastingAPIapiv12FE161CD"},"pathPart":"tenants","restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}},"OPTIONS":{"id":"OPTIONS","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Tenant-ID'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ForecastingAPIapiv1tenants69C19F70"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}},"{tenantId}":{"id":"{tenantId}","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ForecastingAPIapiv1tenants69C19F70"},"pathPart":"{tenantId}","restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}},"OPTIONS":{"id":"OPTIONS","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Tenant-ID'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ForecastingAPIapiv1tenantstenantIdEC26D3B5"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}},"forecasts":{"id":"forecasts","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/forecasts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/forecasts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ForecastingAPIapiv1tenantstenantIdEC26D3B5"},"pathPart":"forecasts","restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}},"OPTIONS":{"id":"OPTIONS","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/forecasts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/forecasts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Tenant-ID'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ForecastingAPIapiv1tenantstenantIdforecasts7CD8C9F3"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}},"GET":{"id":"GET","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/forecasts/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/forecasts/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"HTTP_PROXY","uri":{"Fn::Join":["",["http://",{"Fn::ImportValue":"ordernimbus-staging-compute:ExportsOutputFnGetAttNLB55158F82DNSName97B63C3F"},"/api/v1/tenants/{tenantId}/forecasts"]]},"integrationHttpMethod":"GET","requestParameters":{"integration.request.path.tenantId":"method.request.path.tenantId","integration.request.querystring.limit":"method.request.querystring.limit","integration.request.querystring.offset":"method.request.querystring.offset"},"connectionType":"VPC_LINK","connectionId":{"Ref":"VpcLink42ED6FF0"}},"requestParameters":{"method.request.path.tenantId":true,"method.request.querystring.limit":false,"method.request.querystring.offset":false,"method.request.header.X-Tenant-ID":true},"resourceId":{"Ref":"ForecastingAPIapiv1tenantstenantIdforecasts7CD8C9F3"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}},"POST":{"id":"POST","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/forecasts/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/forecasts/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"HTTP_PROXY","uri":{"Fn::Join":["",["http://",{"Fn::ImportValue":"ordernimbus-staging-compute:ExportsOutputFnGetAttNLB55158F82DNSName97B63C3F"},"/api/v1/tenants/{tenantId}/forecasts"]]},"integrationHttpMethod":"POST","requestParameters":{"integration.request.path.tenantId":"method.request.path.tenantId"},"connectionType":"VPC_LINK","connectionId":{"Ref":"VpcLink42ED6FF0"}},"requestParameters":{"method.request.path.tenantId":true,"method.request.header.X-Tenant-ID":true},"requestValidatorId":{"Ref":"ForecastRequestValidatorB4172762"},"resourceId":{"Ref":"ForecastingAPIapiv1tenantstenantIdforecasts7CD8C9F3"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}},"{forecastId}":{"id":"{forecastId}","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/forecasts/{forecastId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/forecasts/{forecastId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ForecastingAPIapiv1tenantstenantIdforecasts7CD8C9F3"},"pathPart":"{forecastId}","restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}},"OPTIONS":{"id":"OPTIONS","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/forecasts/{forecastId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/forecasts/{forecastId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Tenant-ID'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ForecastingAPIapiv1tenantstenantIdforecastsforecastIdBBDD42F8"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}},"GET":{"id":"GET","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/forecasts/{forecastId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/forecasts/{forecastId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"HTTP_PROXY","uri":{"Fn::Join":["",["http://",{"Fn::ImportValue":"ordernimbus-staging-compute:ExportsOutputFnGetAttNLB55158F82DNSName97B63C3F"},"/api/v1/tenants/{tenantId}/forecasts/{forecastId}"]]},"integrationHttpMethod":"GET","requestParameters":{"integration.request.path.tenantId":"method.request.path.tenantId","integration.request.path.forecastId":"method.request.path.forecastId"},"connectionType":"VPC_LINK","connectionId":{"Ref":"VpcLink42ED6FF0"}},"requestParameters":{"method.request.path.tenantId":true,"method.request.path.forecastId":true,"method.request.header.X-Tenant-ID":true},"resourceId":{"Ref":"ForecastingAPIapiv1tenantstenantIdforecastsforecastIdBBDD42F8"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}}}}}},"data":{"id":"data","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/data","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/data/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ForecastingAPIapiv1tenantstenantIdEC26D3B5"},"pathPart":"data","restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}},"OPTIONS":{"id":"OPTIONS","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/data/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/data/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Tenant-ID'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ForecastingAPIapiv1tenantstenantIddata1DCD9AF3"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}},"upload":{"id":"upload","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/data/upload","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/data/upload/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ForecastingAPIapiv1tenantstenantIddata1DCD9AF3"},"pathPart":"upload","restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}},"OPTIONS":{"id":"OPTIONS","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/data/upload/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/data/upload/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Tenant-ID'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ForecastingAPIapiv1tenantstenantIddataupload7A654330"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}},"POST":{"id":"POST","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/data/upload/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/data/upload/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"HTTP_PROXY","uri":{"Fn::Join":["",["http://",{"Fn::ImportValue":"ordernimbus-staging-compute:ExportsOutputFnGetAttNLB55158F82DNSName97B63C3F"},"/api/v1/tenants/{tenantId}/data/upload"]]},"integrationHttpMethod":"POST","requestParameters":{"integration.request.path.tenantId":"method.request.path.tenantId"},"connectionType":"VPC_LINK","connectionId":{"Ref":"VpcLink42ED6FF0"}},"requestParameters":{"method.request.path.tenantId":true,"method.request.header.X-Tenant-ID":true},"resourceId":{"Ref":"ForecastingAPIapiv1tenantstenantIddataupload7A654330"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}}}}}},"integrations":{"id":"integrations","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/integrations","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/integrations/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ForecastingAPIapiv1tenantstenantIdEC26D3B5"},"pathPart":"integrations","restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}},"OPTIONS":{"id":"OPTIONS","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/integrations/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/integrations/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Tenant-ID'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ForecastingAPIapiv1tenantstenantIdintegrations73FA0B40"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}},"shopify":{"id":"shopify","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/integrations/shopify","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/integrations/shopify/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ForecastingAPIapiv1tenantstenantIdintegrations73FA0B40"},"pathPart":"shopify","restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}},"OPTIONS":{"id":"OPTIONS","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/integrations/shopify/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/integrations/shopify/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Tenant-ID'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"ForecastingAPIapiv1tenantstenantIdintegrationsshopifyC5615B7A"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}},"POST":{"id":"POST","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/integrations/shopify/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/Default/api/v1/tenants/{tenantId}/integrations/shopify/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"HTTP_PROXY","uri":{"Fn::Join":["",["http://",{"Fn::ImportValue":"ordernimbus-staging-compute:ExportsOutputFnGetAttNLB55158F82DNSName97B63C3F"},"/api/v1/tenants/{tenantId}/integrations/shopify"]]},"integrationHttpMethod":"POST","requestParameters":{"integration.request.path.tenantId":"method.request.path.tenantId"},"connectionType":"VPC_LINK","connectionId":{"Ref":"VpcLink42ED6FF0"}},"requestParameters":{"method.request.path.tenantId":true,"method.request.header.X-Tenant-ID":true},"resourceId":{"Ref":"ForecastingAPIapiv1tenantstenantIdintegrationsshopifyC5615B7A"},"restApiId":{"Ref":"ForecastingAPIC6373D2F"}}}}}}}}}}}}}}}}}}}},"UsagePlan":{"id":"UsagePlan","path":"ordernimbus-staging-api/ForecastingAPI/UsagePlan","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.UsagePlan","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastingAPI/UsagePlan/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnUsagePlan","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::UsagePlan","aws:cdk:cloudformation:props":{"apiStages":[{"apiId":{"Ref":"ForecastingAPIC6373D2F"},"stage":{"Ref":"ForecastingAPIDeploymentStagestaging7E5601BF"},"throttle":{}}],"description":"Usage plan for staging environment","quota":{"limit":100000,"period":"MONTH"},"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"throttle":{"burstLimit":500,"rateLimit":1000},"usagePlanName":"staging-usage-plan"}}}}}}},"CognitoAuthorizer":{"id":"CognitoAuthorizer","path":"ordernimbus-staging-api/CognitoAuthorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CognitoUserPoolsAuthorizer","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/CognitoAuthorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAuthorizer","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Authorizer","aws:cdk:cloudformation:props":{"identitySource":"method.request.header.Authorization","name":"staging-cognito-authorizer","providerArns":[{"Fn::ImportValue":"ordernimbus-staging-security:ExportsOutputFnGetAttUserPool6BA7E5F2Arn686ACC00"}],"restApiId":{"Ref":"ForecastingAPIC6373D2F"},"type":"COGNITO_USER_POOLS"}}}}},"VpcLink":{"id":"VpcLink","path":"ordernimbus-staging-api/VpcLink","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.VpcLink","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/VpcLink/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnVpcLink","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::VpcLink","aws:cdk:cloudformation:props":{"description":"VPC Link for staging ECS service","name":"ordernimbusstagingapiVpcLinkE1B33806","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"targetArns":[{"Fn::ImportValue":"ordernimbus-staging-compute:ExportsOutputRefNLB55158F82143AA5FF"}]}}}}},"ForecastRequestValidator":{"id":"ForecastRequestValidator","path":"ordernimbus-staging-api/ForecastRequestValidator","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-api/ForecastRequestValidator/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"ForecastingAPIC6373D2F"},"validateRequestBody":true,"validateRequestParameters":true}}}}},"ApiGatewayUrl":{"id":"ApiGatewayUrl","path":"ordernimbus-staging-api/ApiGatewayUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"ApiGatewayId":{"id":"ApiGatewayId","path":"ordernimbus-staging-api/ApiGatewayId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"ordernimbus-staging-api/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"ordernimbus-staging-api/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}},"Exports":{"id":"Exports","path":"ordernimbus-staging-api/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"ForecastingAPIC6373D2F\"}":{"id":"Output{\"Ref\":\"ForecastingAPIC6373D2F\"}","path":"ordernimbus-staging-api/Exports/Output{\"Ref\":\"ForecastingAPIC6373D2F\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Ref\":\"ForecastingAPIDeploymentStagestaging7E5601BF\"}":{"id":"Output{\"Ref\":\"ForecastingAPIDeploymentStagestaging7E5601BF\"}","path":"ordernimbus-staging-api/Exports/Output{\"Ref\":\"ForecastingAPIDeploymentStagestaging7E5601BF\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ordernimbus-staging-api/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.208.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ordernimbus-staging-api/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.208.0"}}}},"ordernimbus-staging-frontend":{"id":"ordernimbus-staging-frontend","path":"ordernimbus-staging-frontend","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.208.0"},"children":{"FrontendAssetsBucket":{"id":"FrontendAssetsBucket","path":"ordernimbus-staging-frontend/FrontendAssetsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-frontend/FrontendAssetsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"ordernimbus-staging-frontend-assets","corsConfiguration":{"corsRules":[{"maxAge":3000,"allowedHeaders":["*"],"allowedMethods":["GET","HEAD"],"allowedOrigins":["*"]}]},"lifecycleConfiguration":{"rules":[{"id":"DeleteOldVersions","noncurrentVersionExpiration":{"noncurrentDays":30},"status":"Enabled"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"ignorePublicAcls":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"aws-cdk:cr-owned:5b1b6c3f","value":"true"},{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"versioningConfiguration":{"status":"Enabled"},"websiteConfiguration":{"indexDocument":"index.html","errorDocument":"error.html"}}}},"Policy":{"id":"Policy","path":"ordernimbus-staging-frontend/FrontendAssetsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-frontend/FrontendAssetsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"FrontendAssetsBucket52F4AD30"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["FrontendAssetsBucket52F4AD30","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["FrontendAssetsBucket52F4AD30","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Effect":"Allow","Principal":{"AWS":"*","CanonicalUser":{"Fn::GetAtt":["OAIE1EFC67F","S3CanonicalUserId"]}},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["FrontendAssetsBucket52F4AD30","Arn"]},"/*"]]}},{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["FrontendAssetsBucket52F4AD30","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["FrontendAssetsBucket52F4AD30","Arn"]},"/*"]]}]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["OAIE1EFC67F","S3CanonicalUserId"]}},"Resource":[{"Fn::GetAtt":["FrontendAssetsBucket52F4AD30","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["FrontendAssetsBucket52F4AD30","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"ordernimbus-staging-frontend/FrontendAssetsBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.208.0","metadata":[]},"children":{"Default":{"id":"Default","path":"ordernimbus-staging-frontend/FrontendAssetsBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"ordernimbus-staging-frontend/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.208.0"},"children":{"Staging":{"id":"Staging","path":"ordernimbus-staging-frontend/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"Role":{"id":"Role","path":"ordernimbus-staging-frontend/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}},"Handler":{"id":"Handler","path":"ordernimbus-staging-frontend/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}},"OAI":{"id":"OAI","path":"ordernimbus-staging-frontend/OAI","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-frontend/OAI/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"OAI for staging frontend assets"}}}}}},"StaticAssetsCachePolicy":{"id":"StaticAssetsCachePolicy","path":"ordernimbus-staging-frontend/StaticAssetsCachePolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CachePolicy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-frontend/StaticAssetsCachePolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCachePolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CachePolicy","aws:cdk:cloudformation:props":{"cachePolicyConfig":{"name":"staging-static-assets-cache-policy","comment":"Cache policy for static assets (JS, CSS, images)","minTtl":86400,"maxTtl":31536000,"defaultTtl":2592000,"parametersInCacheKeyAndForwardedToOrigin":{"cookiesConfig":{"cookieBehavior":"none"},"headersConfig":{"headerBehavior":"none"},"enableAcceptEncodingGzip":true,"enableAcceptEncodingBrotli":true,"queryStringsConfig":{"queryStringBehavior":"none"}}}}}}}},"HtmlCachePolicy":{"id":"HtmlCachePolicy","path":"ordernimbus-staging-frontend/HtmlCachePolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CachePolicy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-frontend/HtmlCachePolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCachePolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CachePolicy","aws:cdk:cloudformation:props":{"cachePolicyConfig":{"name":"staging-html-cache-policy","comment":"Cache policy for HTML files","minTtl":0,"maxTtl":86400,"defaultTtl":3600,"parametersInCacheKeyAndForwardedToOrigin":{"cookiesConfig":{"cookieBehavior":"none"},"headersConfig":{"headerBehavior":"none"},"enableAcceptEncodingGzip":true,"enableAcceptEncodingBrotli":true,"queryStringsConfig":{"queryStringBehavior":"none"}}}}}}}},"SecurityHeadersPolicy":{"id":"SecurityHeadersPolicy","path":"ordernimbus-staging-frontend/SecurityHeadersPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.ResponseHeadersPolicy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-frontend/SecurityHeadersPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnResponseHeadersPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::ResponseHeadersPolicy","aws:cdk:cloudformation:props":{"responseHeadersPolicyConfig":{"name":"staging-security-headers","comment":"Security headers for frontend","customHeadersConfig":{"items":[{"header":"X-Content-Type-Options","value":"nosniff","override":true},{"header":"X-XSS-Protection","value":"1; mode=block","override":true}]},"securityHeadersConfig":{"contentTypeOptions":{"override":true},"frameOptions":{"frameOption":"DENY","override":true},"referrerPolicy":{"referrerPolicy":"strict-origin-when-cross-origin","override":true},"strictTransportSecurity":{"accessControlMaxAge":{"amount":31536000,"unit":{"label":"seconds","isoLabel":"S","inMillis":1000}},"includeSubdomains":true,"preload":true,"override":true,"accessControlMaxAgeSec":31536000}}}}}}}},"Distribution":{"id":"Distribution","path":"ordernimbus-staging-frontend/Distribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.208.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"ordernimbus-staging-frontend/Distribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Origin2":{"id":"Origin2","path":"ordernimbus-staging-frontend/Distribution/Origin2","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Origin3":{"id":"Origin3","path":"ordernimbus-staging-frontend/Distribution/Origin3","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Origin4":{"id":"Origin4","path":"ordernimbus-staging-frontend/Distribution/Origin4","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Origin5":{"id":"Origin5","path":"ordernimbus-staging-frontend/Distribution/Origin5","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Origin6":{"id":"Origin6","path":"ordernimbus-staging-frontend/Distribution/Origin6","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"ordernimbus-staging-frontend/Distribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["FrontendAssetsBucket52F4AD30","RegionalDomainName"]},"id":"ordernimbusstagingfrontendDistributionOrigin1BAF85BDC","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"OAIE1EFC67F"}]]}}},{"domainName":{"Fn::GetAtt":["FrontendAssetsBucket52F4AD30","RegionalDomainName"]},"id":"ordernimbusstagingfrontendDistributionOrigin2179771C2","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"OAIE1EFC67F"}]]}}},{"domainName":{"Fn::GetAtt":["FrontendAssetsBucket52F4AD30","RegionalDomainName"]},"id":"ordernimbusstagingfrontendDistributionOrigin332317E27","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"OAIE1EFC67F"}]]}}},{"domainName":{"Fn::GetAtt":["FrontendAssetsBucket52F4AD30","RegionalDomainName"]},"id":"ordernimbusstagingfrontendDistributionOrigin45683769F","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"OAIE1EFC67F"}]]}}},{"domainName":{"Fn::GetAtt":["FrontendAssetsBucket52F4AD30","RegionalDomainName"]},"id":"ordernimbusstagingfrontendDistributionOrigin546A36323","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"OAIE1EFC67F"}]]}}},{"domainName":{"Fn::Join":["",[{"Fn::ImportValue":"ordernimbus-staging-api:ExportsOutputRefForecastingAPIC6373D2FC7C37655"},".execute-api.us-west-1.",{"Ref":"AWS::URLSuffix"},"/",{"Fn::ImportValue":"ordernimbus-staging-api:ExportsOutputRefForecastingAPIDeploymentStagestaging7E5601BF37AFDB5D"},"/"]]},"id":"ordernimbusstagingfrontendDistributionOrigin60FB96CAE","customOriginConfig":{"originSslProtocols":["TLSv1.2"],"originProtocolPolicy":"https-only"}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"ordernimbusstagingfrontendDistributionOrigin1BAF85BDC","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"HtmlCachePolicy9A5E4D6F"},"compress":true,"responseHeadersPolicyId":{"Ref":"SecurityHeadersPolicyE1741D63"},"viewerProtocolPolicy":"redirect-to-https"},"cacheBehaviors":[{"pathPattern":"*.js","targetOriginId":"ordernimbusstagingfrontendDistributionOrigin2179771C2","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"StaticAssetsCachePolicyA7AB90E0"},"compress":true,"viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"*.css","targetOriginId":"ordernimbusstagingfrontendDistributionOrigin332317E27","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"StaticAssetsCachePolicyA7AB90E0"},"compress":true,"viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"*.png","targetOriginId":"ordernimbusstagingfrontendDistributionOrigin45683769F","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"StaticAssetsCachePolicyA7AB90E0"},"compress":false,"viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"*.jpg","targetOriginId":"ordernimbusstagingfrontendDistributionOrigin546A36323","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"StaticAssetsCachePolicyA7AB90E0"},"compress":false,"viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"/api/*","targetOriginId":"ordernimbusstagingfrontendDistributionOrigin60FB96CAE","allowedMethods":["GET","HEAD","OPTIONS","PUT","PATCH","POST","DELETE"],"cachedMethods":["GET","HEAD"],"cachePolicyId":"4135ea2d-6df8-44a3-9df3-4b5a84be39ad","compress":true,"originRequestPolicyId":"88a5eaf4-2fd4-4709-b370-b4c650ea3fcf","viewerProtocolPolicy":"redirect-to-https"}],"comment":"staging Sales Forecasting Platform Frontend","customErrorResponses":[{"errorCachingMinTtl":300,"errorCode":403,"responseCode":200,"responsePagePath":"/index.html"},{"errorCachingMinTtl":300,"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2and3","ipv6Enabled":true,"priceClass":"PriceClass_100"},"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}}}},"DeployWebsite":{"id":"DeployWebsite","path":"ordernimbus-staging-frontend/DeployWebsite","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.208.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"ordernimbus-staging-frontend/DeployWebsite/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"ordernimbus-staging-frontend/DeployWebsite/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"ordernimbus-staging-frontend/DeployWebsite/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"ordernimbus-staging-frontend/DeployWebsite/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ordernimbus-staging-frontend/DeployWebsite/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-335021149718-us-west-1","s3Key":"c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"ordernimbus-staging-frontend/DeployWebsite/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.208.0","metadata":[]}},"Asset1":{"id":"Asset1","path":"ordernimbus-staging-frontend/DeployWebsite/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"ordernimbus-staging-frontend/DeployWebsite/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"ordernimbus-staging-frontend/DeployWebsite/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Asset2":{"id":"Asset2","path":"ordernimbus-staging-frontend/DeployWebsite/Asset2","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"ordernimbus-staging-frontend/DeployWebsite/Asset2/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"ordernimbus-staging-frontend/DeployWebsite/Asset2/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"CustomResource":{"id":"CustomResource","path":"ordernimbus-staging-frontend/DeployWebsite/CustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.208.0","metadata":[]},"children":{"Default":{"id":"Default","path":"ordernimbus-staging-frontend/DeployWebsite/CustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}}}},"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C":{"id":"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","path":"ordernimbus-staging-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ordernimbus-staging-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ordernimbus-staging-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"ordernimbus-staging-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ordernimbus-staging-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":["arn:aws:s3:::cdk-hnb659fds-assets-335021149718-us-west-1","arn:aws:s3:::cdk-hnb659fds-assets-335021149718-us-west-1/*"]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["FrontendAssetsBucket52F4AD30","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["FrontendAssetsBucket52F4AD30","Arn"]},"/*"]]}]},{"Action":["cloudfront:CreateInvalidation","cloudfront:GetInvalidation"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF","roles":[{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"}]}}}}}}},"Code":{"id":"Code","path":"ordernimbus-staging-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"ordernimbus-staging-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"ordernimbus-staging-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ordernimbus-staging-frontend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-335021149718-us-west-1","s3Key":"9a1fcb4a7ecba81ad70e9d3fb241f6794497da945dae5f25924e4dd002b65f2d.zip"},"environment":{"variables":{"AWS_CA_BUNDLE":"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"}},"handler":"index.handler","layers":[{"Ref":"DeployWebsiteAwsCliLayer17DBC421"}],"role":{"Fn::GetAtt":["CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265","Arn"]},"runtime":"python3.11","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"timeout":900}}}}},"CloudFrontUrl":{"id":"CloudFrontUrl","path":"ordernimbus-staging-frontend/CloudFrontUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"CloudFrontDistributionId":{"id":"CloudFrontDistributionId","path":"ordernimbus-staging-frontend/CloudFrontDistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"S3BucketName":{"id":"S3BucketName","path":"ordernimbus-staging-frontend/S3BucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"ordernimbus-staging-frontend/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"ordernimbus-staging-frontend/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}},"Exports":{"id":"Exports","path":"ordernimbus-staging-frontend/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"Distribution830FAC52\"}":{"id":"Output{\"Ref\":\"Distribution830FAC52\"}","path":"ordernimbus-staging-frontend/Exports/Output{\"Ref\":\"Distribution830FAC52\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ordernimbus-staging-frontend/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.208.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ordernimbus-staging-frontend/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.208.0"}}}},"ordernimbus-staging-monitoring":{"id":"ordernimbus-staging-monitoring","path":"ordernimbus-staging-monitoring","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.208.0"},"children":{"CriticalAlerts":{"id":"CriticalAlerts","path":"ordernimbus-staging-monitoring/CriticalAlerts","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-monitoring/CriticalAlerts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"displayName":"Critical Alerts - staging","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"topicName":"staging-critical-alerts"}}},"alerts@ordernimbus.com":{"id":"alerts@ordernimbus.com","path":"ordernimbus-staging-monitoring/CriticalAlerts/alerts@ordernimbus.com","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-monitoring/CriticalAlerts/alerts@ordernimbus.com/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":"alerts@ordernimbus.com","protocol":"email","topicArn":{"Ref":"CriticalAlerts1F1E9D64"}}}}}}}},"WarningAlerts":{"id":"WarningAlerts","path":"ordernimbus-staging-monitoring/WarningAlerts","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-monitoring/WarningAlerts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"displayName":"Warning Alerts - staging","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"topicName":"staging-warning-alerts"}}},"warnings@ordernimbus.com":{"id":"warnings@ordernimbus.com","path":"ordernimbus-staging-monitoring/WarningAlerts/warnings@ordernimbus.com","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-monitoring/WarningAlerts/warnings@ordernimbus.com/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":"warnings@ordernimbus.com","protocol":"email","topicArn":{"Ref":"WarningAlerts855AE01C"}}}}}}}},"APIHighErrorRate":{"id":"APIHighErrorRate","path":"ordernimbus-staging-monitoring/APIHighErrorRate","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-monitoring/APIHighErrorRate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CriticalAlerts1F1E9D64"}],"alarmDescription":"API Gateway 5xx error rate is too high","alarmName":"staging-api-high-error-rate","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":2,"dimensions":[{"name":"ApiName","value":"ordernimbus-staging-api"}],"evaluationPeriods":2,"metricName":"5XXError","namespace":"AWS/ApiGateway","period":300,"statistic":"Sum","threshold":10,"treatMissingData":"notBreaching"}}}}},"APIHighLatency":{"id":"APIHighLatency","path":"ordernimbus-staging-monitoring/APIHighLatency","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-monitoring/APIHighLatency/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WarningAlerts855AE01C"}],"alarmDescription":"API Gateway latency is too high","alarmName":"staging-api-high-latency","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":2,"dimensions":[{"name":"ApiName","value":"ordernimbus-staging-api"}],"evaluationPeriods":3,"metricName":"Latency","namespace":"AWS/ApiGateway","period":300,"statistic":"Average","threshold":5000,"treatMissingData":"notBreaching"}}}}},"APIThrottling":{"id":"APIThrottling","path":"ordernimbus-staging-monitoring/APIThrottling","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-monitoring/APIThrottling/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WarningAlerts855AE01C"}],"alarmDescription":"API Gateway is being throttled","alarmName":"staging-api-throttling","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":1,"dimensions":[{"name":"ApiName","value":"ordernimbus-staging-api"}],"evaluationPeriods":2,"metricName":"4XXError","namespace":"AWS/ApiGateway","period":300,"statistic":"Sum","threshold":50,"treatMissingData":"notBreaching"}}}}},"ECSHighCPU":{"id":"ECSHighCPU","path":"ordernimbus-staging-monitoring/ECSHighCPU","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-monitoring/ECSHighCPU/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WarningAlerts855AE01C"}],"alarmDescription":"ECS service CPU utilization is too high","alarmName":"staging-ecs-high-cpu","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":2,"dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefECSCluster7D463CD47A8DFE2F"}},{"name":"ServiceName","value":{"Fn::ImportValue":"ordernimbus-staging-compute:ExportsOutputFnGetAttECSService89C005CDName4FF9E5F8"}}],"evaluationPeriods":3,"metricName":"CPUUtilization","namespace":"AWS/ECS","period":300,"statistic":"Average","threshold":80,"treatMissingData":"notBreaching"}}}}},"ECSHighMemory":{"id":"ECSHighMemory","path":"ordernimbus-staging-monitoring/ECSHighMemory","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-monitoring/ECSHighMemory/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WarningAlerts855AE01C"}],"alarmDescription":"ECS service memory utilization is too high","alarmName":"staging-ecs-high-memory","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":2,"dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefECSCluster7D463CD47A8DFE2F"}},{"name":"ServiceName","value":{"Fn::ImportValue":"ordernimbus-staging-compute:ExportsOutputFnGetAttECSService89C005CDName4FF9E5F8"}}],"evaluationPeriods":3,"metricName":"MemoryUtilization","namespace":"AWS/ECS","period":300,"statistic":"Average","threshold":85,"treatMissingData":"notBreaching"}}}}},"ECSLowTaskCount":{"id":"ECSLowTaskCount","path":"ordernimbus-staging-monitoring/ECSLowTaskCount","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-monitoring/ECSLowTaskCount/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"CriticalAlerts1F1E9D64"}],"alarmDescription":"ECS service has too few running tasks","alarmName":"staging-ecs-low-task-count","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"comparisonOperator":"LessThanThreshold","datapointsToAlarm":2,"dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefECSCluster7D463CD47A8DFE2F"}},{"name":"ServiceName","value":{"Fn::ImportValue":"ordernimbus-staging-compute:ExportsOutputFnGetAttECSService89C005CDName4FF9E5F8"}}],"evaluationPeriods":2,"metricName":"RunningTaskCount","namespace":"AWS/ECS","period":300,"statistic":"Average","threshold":1,"treatMissingData":"breaching"}}}}},"DBHighCPU":{"id":"DBHighCPU","path":"ordernimbus-staging-monitoring/DBHighCPU","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-monitoring/DBHighCPU/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WarningAlerts855AE01C"}],"alarmDescription":"Database CPU utilization is too high","alarmName":"staging-db-high-cpu","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":2,"dimensions":[{"name":"DBClusterIdentifier","value":{"Fn::ImportValue":"ordernimbus-staging-database:ExportsOutputRefAuroraCluster23D869C0CA1C7DB5"}}],"evaluationPeriods":3,"metricName":"CPUUtilization","namespace":"AWS/RDS","period":300,"statistic":"Average","threshold":80,"treatMissingData":"notBreaching"}}}}},"DBHighConnections":{"id":"DBHighConnections","path":"ordernimbus-staging-monitoring/DBHighConnections","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-monitoring/DBHighConnections/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WarningAlerts855AE01C"}],"alarmDescription":"Database connection count is too high","alarmName":"staging-db-high-connections","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":2,"dimensions":[{"name":"DBClusterIdentifier","value":{"Fn::ImportValue":"ordernimbus-staging-database:ExportsOutputRefAuroraCluster23D869C0CA1C7DB5"}}],"evaluationPeriods":2,"metricName":"DatabaseConnections","namespace":"AWS/RDS","period":300,"statistic":"Average","threshold":80,"treatMissingData":"notBreaching"}}}}},"CloudFrontHighErrorRate":{"id":"CloudFrontHighErrorRate","path":"ordernimbus-staging-monitoring/CloudFrontHighErrorRate","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-monitoring/CloudFrontHighErrorRate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WarningAlerts855AE01C"}],"alarmDescription":"CloudFront 4xx/5xx error rate is too high","alarmName":"staging-cloudfront-high-error-rate","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"Owner","value":"Platform-Team"},{"key":"Project","value":"OrderNimbus-Forecasting"}],"comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":2,"dimensions":[{"name":"DistributionId","value":{"Fn::ImportValue":"ordernimbus-staging-frontend:ExportsOutputRefDistribution830FAC524DF81588"}}],"evaluationPeriods":3,"metricName":"4xxErrorRate","namespace":"AWS/CloudFront","period":300,"statistic":"Average","threshold":5,"treatMissingData":"notBreaching"}}}}},"Dashboard":{"id":"Dashboard","path":"ordernimbus-staging-monitoring/Dashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ordernimbus-staging-monitoring/Dashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"API Gateway Metrics\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"Count\",\"ApiName\",\"ordernimbus-staging-api\",{\"label\":\"Request Count\",\"stat\":\"Sum\"}],[\"AWS/ApiGateway\",\"5XXError\",\"ApiName\",\"ordernimbus-staging-api\",{\"label\":\"5xx Errors\",\"stat\":\"Sum\"}],[\"AWS/ApiGateway\",\"4XXError\",\"ApiName\",\"ordernimbus-staging-api\",{\"label\":\"4xx Errors\",\"stat\":\"Sum\"}],[\"AWS/ApiGateway\",\"Latency\",\"ApiName\",\"ordernimbus-staging-api\",{\"label\":\"Latency (avg)\",\"yAxis\":\"right\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"ECS Service Metrics\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"CPUUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefECSCluster7D463CD47A8DFE2F"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"ordernimbus-staging-compute:ExportsOutputFnGetAttECSService89C005CDName4FF9E5F8"},"\",{\"label\":\"CPU Utilization\"}],[\"AWS/ECS\",\"MemoryUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefECSCluster7D463CD47A8DFE2F"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"ordernimbus-staging-compute:ExportsOutputFnGetAttECSService89C005CDName4FF9E5F8"},"\",{\"label\":\"Memory Utilization\"}],[\"AWS/ECS\",\"RunningTaskCount\",\"ClusterName\",\"",{"Fn::ImportValue":"ordernimbus-staging-networking:ExportsOutputRefECSCluster7D463CD47A8DFE2F"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"ordernimbus-staging-compute:ExportsOutputFnGetAttECSService89C005CDName4FF9E5F8"},"\",{\"label\":\"Running Tasks\",\"yAxis\":\"right\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":0,\"y\":12,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Database Metrics\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/RDS\",\"CPUUtilization\",\"DBClusterIdentifier\",\"",{"Fn::ImportValue":"ordernimbus-staging-database:ExportsOutputRefAuroraCluster23D869C0CA1C7DB5"},"\",{\"label\":\"CPU Utilization\"}],[\"AWS/RDS\",\"DatabaseConnections\",\"DBClusterIdentifier\",\"",{"Fn::ImportValue":"ordernimbus-staging-database:ExportsOutputRefAuroraCluster23D869C0CA1C7DB5"},"\",{\"label\":\"Connections\"}],[\"AWS/RDS\",\"ServerlessDatabaseCapacity\",\"DBClusterIdentifier\",\"",{"Fn::ImportValue":"ordernimbus-staging-database:ExportsOutputRefAuroraCluster23D869C0CA1C7DB5"},"\",{\"label\":\"ACU Usage\",\"yAxis\":\"right\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"staging-sales-forecasting-dashboard"}}}}},"DashboardUrl":{"id":"DashboardUrl","path":"ordernimbus-staging-monitoring/DashboardUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"CriticalAlertsTopicArn":{"id":"CriticalAlertsTopicArn","path":"ordernimbus-staging-monitoring/CriticalAlertsTopicArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"WarningAlertsTopicArn":{"id":"WarningAlertsTopicArn","path":"ordernimbus-staging-monitoring/WarningAlertsTopicArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"ordernimbus-staging-monitoring/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"ordernimbus-staging-monitoring/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ordernimbus-staging-monitoring/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.208.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ordernimbus-staging-monitoring/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.208.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}